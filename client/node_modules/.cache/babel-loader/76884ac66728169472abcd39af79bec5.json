{"ast":null,"code":"export const ITEMS_HAS_ERRORED = 'ITEMS_HAS_ERRORED';\nexport const ITEMS_IS_LOADING = 'ITEMS_IS_LOADING';\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS';\nexport const hasErrored = bool => {\n  return {\n    type: 'ITEMS_HAS_ERRORED',\n    hasErrored: bool\n  };\n};\nexport const isLoading = bool => {\n  return {\n    type: 'ITEMS_IS_LOADING',\n    isLoading: bool\n  };\n}; // Redux-thunk, \n\nexport const fetchData = url => {\n  // it returns a function!!!!\n  return dispatch => {\n    dispatch(isLoading(true));\n    fetch(url).then(response => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      dispatch(isLoading(false));\n      return response;\n    }).then(response => {\n      response.json();\n    }).then(items => dispatch(fetchDataSuccess(items))).catch(() => dispatch(hasErrored(true)));\n  };\n};\nexport const fetchDataSuccess = items => {\n  return {\n    type: 'FETCH_DATA_SUCCESS',\n    items // this is ES6 property, it means \"items\":items or items:items\n\n  };\n};","map":{"version":3,"sources":["/Users/mac/Workspaces/cpsc436assignment2/client/src/actions/fetchActions.js"],"names":["ITEMS_HAS_ERRORED","ITEMS_IS_LOADING","FETCH_DATA_SUCCESS","hasErrored","bool","type","isLoading","fetchData","url","dispatch","fetch","then","response","ok","Error","statusText","json","items","fetchDataSuccess","catch"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AAEP,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU;AAChC,SAAO;AACHC,IAAAA,IAAI,EAAE,mBADH;AAEHF,IAAAA,UAAU,EAAEC;AAFT,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,SAAS,GAAIF,IAAD,IAAU;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAE,kBADH;AAEHC,IAAAA,SAAS,EAAEF;AAFR,GAAP;AAIH,CALM,C,CAOP;;AACA,OAAO,MAAMG,SAAS,GAAIC,GAAD,IAAS;AAC9B;AACA,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,SAAS,CAAC,IAAD,CAAV,CAAR;AACAI,IAAAA,KAAK,CAACF,GAAD,CAAL,CACKG,IADL,CACWC,QAAD,IAAc;AAChB,UAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,cAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACDN,MAAAA,QAAQ,CAACH,SAAS,CAAC,KAAD,CAAV,CAAR;AACA,aAAOM,QAAP;AACH,KAPL,EAQKD,IARL,CAQWC,QAAD,IAAc;AAChBA,MAAAA,QAAQ,CAACI,IAAT;AACH,KAVL,EAWKL,IAXL,CAWWM,KAAD,IAAWR,QAAQ,CAACS,gBAAgB,CAACD,KAAD,CAAjB,CAX7B,EAYKE,KAZL,CAYW,MAAMV,QAAQ,CAACN,UAAU,CAAC,IAAD,CAAX,CAZzB;AAaH,GAfD;AAgBH,CAlBM;AAoBP,OAAO,MAAMe,gBAAgB,GAAID,KAAD,IAAW;AACvC,SAAO;AACHZ,IAAAA,IAAI,EAAE,oBADH;AAEHY,IAAAA,KAFG,CAEG;;AAFH,GAAP;AAIH,CALM","sourcesContent":["export const ITEMS_HAS_ERRORED = 'ITEMS_HAS_ERRORED'\nexport const ITEMS_IS_LOADING = 'ITEMS_IS_LOADING'\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS'\n\nexport const hasErrored = (bool) => {\n    return {\n        type: 'ITEMS_HAS_ERRORED',\n        hasErrored: bool\n    };\n}\n\nexport const isLoading = (bool) => {\n    return {\n        type: 'ITEMS_IS_LOADING',\n        isLoading: bool\n    };\n}\n\n// Redux-thunk, \nexport const fetchData = (url) => {\n    // it returns a function!!!!\n    return (dispatch) => {\n        dispatch(isLoading(true));\n        fetch(url)\n            .then((response) => {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                dispatch(isLoading(false));\n                return response;\n            })\n            .then((response) => {\n                response.json()\n            })\n            .then((items) => dispatch(fetchDataSuccess(items)))\n            .catch(() => dispatch(hasErrored(true)));\n    };\n}\n\nexport const fetchDataSuccess = (items) => {\n    return {\n        type: 'FETCH_DATA_SUCCESS',\n        items // this is ES6 property, it means \"items\":items or items:items\n    };\n}"]},"metadata":{},"sourceType":"module"}